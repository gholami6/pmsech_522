# قابلیت PDF برای گزارشات

## ویژگی‌های طراحی شده

### ✅ **طرح کلی PDF (بهبود یافته):**
- **فرمت:** A4 Portrait
- **صفحه اول:** نمودار در نیمه بالا + جدول خلاصه در نیمه پایین
- **صفحه دوم:** جدول جزئیات کامل
- **هدر:** اطلاعات فیلتر و تاریخ گزارش در بالا

### ✅ **اطلاعات هدر:**
- **سمت راست:** بازه زمانی، شیفت، تاریخ شروع و پایان
- **سمت چپ:** تاریخ و ساعت تولید گزارش

### ✅ **نمودار حرفه‌ای (نیمه بالای صفحه اول):**
- نمودار خطی مقایسه‌ای با گریدلاین‌های عمودی و افقی
- خوراک محقق شده (آبی)
- خوراک برنامه‌ریزی شده (قرمز)
- لجند در پایین نمودار
- محور Y: هزار تن
- محور X: بر اساس نوع بازه

### ✅ **جدول خلاصه (نیمه پایین صفحه اول):**
- کل خوراک محقق شده (تن)
- کل خوراک برنامه‌ریزی شده (تن)
- درصد انحراف
- حداکثر روزانه (تن)

### ✅ **جدول جزئیات (صفحه دوم):**
- چیدمان از راست به چپ مطابق برنامه
- انحراف از برنامه (درصد)
- خوراک برنامه‌ریزی شده (تن)
- خوراک محقق شده (تن)
- شیفت
- تاریخ/بازه

### ✅ **بهبودهای اعمال شده:**
- **چیدمان صحیح ستون‌ها:** از راست به چپ مطابق برنامه
- **نمودار حرفه‌ای:** با گریدلاین‌های عمودی و افقی
- **جداسازی محتوا:** نمودار و خلاصه در صفحه اول، جزئیات در صفحه دوم
- **فرمت A4 دقیق:** تنظیم شده در محدوده کاغذ A4
- **لجند نمودار:** نمایش رنگ‌ها و توضیحات

## نحوه استفاده

### در صفحه خوراک ورودی:
1. فیلترهای مورد نظر را انتخاب کنید
2. روی "نمایش گزارش" کلیک کنید
3. منتظر بارگذاری داده‌ها بمانید
4. روی دکمه "دانلود PDF" کلیک کنید
5. فایل PDF در مسیر مشخص شده ذخیره می‌شود

### فایل‌های ایجاد شده:
- `lib/services/pdf_report_service.dart` - سرویس تولید PDF
- `lib/services/pdf_report_service.dart` - کلاس‌های داده برای PDF

## قابلیت‌های آینده

### 🔄 **قابل گسترش برای سایر صفحات:**
- صفحه تولید
- صفحه توقفات
- صفحه شاخص‌ها
- صفحه کیفیت

### 🔄 **بهبودهای پیشنهادی:**
- انتخاب مسیر ذخیره
- تنظیمات صفحه (A4, A3, Landscape)
- قالب‌های مختلف گزارش
- امضای دیجیتال
- واترمارک شرکت

## نکات فنی

### **پکیج‌های مورد نیاز:**
```yaml
dependencies:
  pdf: ^3.10.7
  printing: ^5.11.1
  path_provider: ^2.1.1
```

### **ساختار فایل PDF:**
```
📄 صفحه اول A4
├── 🎨 هدر (آبی)
│   ├── 📅 تاریخ گزارش (چپ)
│   └── 🔍 اطلاعات فیلتر (راست)
├── 📊 نمودار (نیمه بالا)
│   ├── خط آبی: خوراک محقق شده
│   ├── خط قرمز: خوراک برنامه‌ریزی شده
│   └── لجند: توضیح رنگ‌ها
└── 📋 جدول خلاصه (نیمه پایین)
    ├── کل خوراک محقق شده
    ├── کل خوراک برنامه‌ریزی شده
    ├── درصد انحراف
    └── حداکثر روزانه

📄 صفحه دوم A4
└── 📋 جدول جزئیات (کامل)
    ├── انحراف از برنامه
    ├── خوراک برنامه‌ریزی شده
    ├── خوراک محقق شده
    ├── شیفت
    └── تاریخ/بازه
```

### **فرمت نام فایل:**
```
feed_report_[timestamp].pdf
```

## تغییرات اعمال شده

### ✅ **مشکلات حل شده:**
1. **چیدمان ستون‌ها:** حالا از راست به چپ مطابق برنامه
2. **نمودار حرفه‌ای:** با گریدلاین‌های عمودی و افقی
3. **جداسازی محتوا:** نمودار و خلاصه در صفحه اول، جزئیات در صفحه دوم
4. **فرمت A4 دقیق:** تنظیم شده در محدوده کاغذ A4
5. **لجند نمودار:** نمایش رنگ‌ها و توضیحات

### ✅ **بهبودهای طراحی:**
- نمودار در نیمه بالای صفحه اول
- جدول خلاصه در نیمه پایین صفحه اول
- جدول جزئیات در صفحه دوم
- چیدمان صحیح ستون‌ها از راست به چپ
- گریدلاین‌های حرفه‌ای در نمودار

این قابلیت به عنوان یک فرمت کلی برای تمام گزارشات قابل استفاده است. 