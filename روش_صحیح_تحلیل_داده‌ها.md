# ๐ ุฑุงูููุง ุฑูุด ุตุญุญ ุชุญูู ุฏุงุฏูโูุง ุชููุฏ

## ๐ฏ ูุดฺฉู ุงุตู

ุฏุฑ ูุงู ุงฺฉุณู ุฏุงุฏูโูุง:
- **ูุฑ ุฑุฏู = ฺฉ ุชููู**
- **ุฏุงุฏูโูุง ุชููุฏ ุชฺฉุฑุงุฑ ูุณุชูุฏ** (ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุฎุงู ุจูุฏู ุณูููโูุง)

### ูุซุงู:
ุงฺฏุฑ ุฏุฑ ฺฉ ุดูุช 5 ุชููู ุงุชูุงู ุจูุชุฏุ 5 ุฑุฏู ุฎูุงูู ุฏุงุดุช ฺฉู ุฏุฑ ููู ุขููุง ุฏุงุฏูโูุง ุชููุฏ (ุชูุงฺุ ุชุนุฏุงุฏ ุณุฑูุณุ ...) ุชฺฉุฑุงุฑ ุดุฏูโุงูุฏ.

## โ ูุดฺฉู ุฑูุด ูุฏู

```dart
// ุฑูุด ูุฏู - ุฏูุจุงุฑูโุดูุงุฑ ุฏุงุฑุฏ
for (var item in allData) {
    totalProduction += item.producedProduct;  // โ ุงุดุชุจุงู!
    totalStops += 1;                          // โ ุฏุฑุณุช
}
```

**ูุชุฌู**: ุขูุงุฑ ุชููุฏ ฺูุฏุจุฑุงุจุฑ ูุงูุน ูุญุงุณุจู ูโุดูุฏ!

## โ ุฑุงูโุญู ุตุญุญ

```dart
// ุจุฑุง ุชููุฏ: ููุท ฺฉ ุฑุฏู ุงุฒ ูุฑ ุดูุช
final uniqueData = ProductionAnalysisService.getUniqueProductionData(allData);
for (var item in uniqueData) {
    totalProduction += item.producedProduct;  // โ ุฏุฑุณุช!
}

// ุจุฑุง ุชูููุงุช: ููู ุฑุฏูโูุง
final stopData = ProductionAnalysisService.getAllStopData(allData);
for (var item in stopData) {
    totalStops += 1;                          // โ ุฏุฑุณุช!
}
```

## ๐๏ธ ูุญูู ุงุณุชูุงุฏู ุงุฒ ProductionAnalysisService

### 1. ุขูุงุฑ ุชููุฏ ุตุญุญ

```dart
import '../services/production_analysis_service.dart';

// ูุญุงุณุจู ุขูุงุฑ ุชููุฏ (ุจุฏูู ุฏูุจุงุฑูโุดูุงุฑ)
final productionStats = ProductionAnalysisService.calculateProductionStatistics(data);

print('ุชููุฏ ฺฉู: ${productionStats['totalProducedProduct']} ุชู');
print('ุชุนุฏุงุฏ ุดูุชโูุง: ${productionStats['shiftsCount']}');
print('ุฑุงูุฏูุงู ูุงูฺฏู: ${productionStats['averageEfficiency']}%');
```

### 2. ุขูุงุฑ ุชูููุงุช ฺฉุงูู

```dart
// ูุญุงุณุจู ุขูุงุฑ ุชูููุงุช (ููู ุฑฺฉูุฑุฏูุง)
final stopStats = ProductionAnalysisService.calculateStopStatistics(data);

print('ฺฉู ุชูููุงุช: ${stopStats['totalStops']} ููุฑุฏ');
print('ูุฏุช ฺฉู: ${ProductionAnalysisService.formatDuration(stopStats['totalStopDuration'])}');
print('ุชูููุงุช ุงุถุทุฑุงุฑ: ${stopStats['emergencyStops']} ููุฑุฏ');
```

### 3. ุขูุงุฑ ุชุฑฺฉุจ

```dart
// ูุญุงุณุจู ููู ุขูุงุฑูุง ุจุง ฺฉ ุชุงุจุน
final combinedStats = ProductionAnalysisService.calculateCombinedStatistics(data);

final production = combinedStats['production'];
final stops = combinedStats['stops'];
final summary = combinedStats['summary'];
```

### 4. ุขูุงุฑ ุชุฌูุฒ ุฎุงุต

```dart
// ุขูุงุฑ ฺฉ ุชุฌูุฒ ุฎุงุต
final equipmentStats = ProductionAnalysisService.getEquipmentStatistics(data, 'ุฎุท 1');

// ุขูุงุฑ ฺฉ ุดูุช ุฎุงุต
final shiftStats = ProductionAnalysisService.getShiftStatistics(data, 1);

// ุขูุงุฑ ฺฉ ุฑูุฒ ุฎุงุต
final dailyStats = ProductionAnalysisService.getDailyStatistics(data, '1403/01/15');
```

### 5. ุจุฑุชุฑู ุชุฌูุฒุงุช

```dart
// ุจุฑุชุฑู ุชุฌูุฒุงุช ุงุฒ ูุธุฑ ุชููุฏ
final topProduction = ProductionAnalysisService.getTopEquipmentsByProduction(data);
for (var item in topProduction.take(5)) {
    print('${item['equipment']}: ${item['production']} ุชู');
}

// ุชุฌูุฒุงุช ุจุง ุจุดุชุฑู ุชููู
final topStops = ProductionAnalysisService.getTopEquipmentsByStops(data);
for (var item in topStops.take(5)) {
    print('${item['equipment']}: ${item['stops']} ุชููู');
}
```

## ๐ง ุชุงุจุนโูุง ฺฉูฺฉ

### ูุฑูุชโุจูุฏ ุงุนุฏุงุฏ

```dart
// ูุฑูุช ูุงุฑุณ ุจุง ุฌุฏุงฺฉููุฏู
String formatted = ProductionAnalysisService.formatNumber(1234567.89);
// ูุชุฌู: "1,234,567.89"
```

### ูุฑูุช ูุฏุช ุฒูุงู

```dart
// ุชุจุฏู ุฏููู ุจู ุณุงุนุช:ุฏููู
String duration = ProductionAnalysisService.formatDuration(135);
// ูุชุฌู: "02:15"
```

## ๐ ููุงุณู ุฑูุดโูุง

ุจุฑุง ูุดุงูุฏู ุชูุงูุช ุฑูุดโูุง:

1. ุงุฒ ููู ุงุตู ุจุฑูุงูู
2. ุฑู ุขฺฉู ููู (3 ููุทู) ฺฉูฺฉ ฺฉูุฏ
3. ฺฏุฒูู "ููุงุณู ุฑูุดโูุง ูุญุงุณุจู" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ

## ๐ฏ ฺฉุงุฑุจุฑุฏ ุฏุฑ ุตูุญุงุช

### ProductionScreen

```dart
// ุฏุฑ ProductionScreen
final uniqueData = ProductionAnalysisService.getUniqueProductionData(allData);
final stats = ProductionAnalysisService.calculateProductionStatistics(allData);

// ููุงุด ุขูุงุฑ ุตุญุญ
Text('ุชููุฏ ฺฉู: ${ProductionAnalysisService.formatNumber(stats['totalProducedProduct'])} ุชู');
```

### StopsScreen

```dart
// ุฏุฑ StopsScreen
final stopData = ProductionAnalysisService.getAllStopData(allData);
final stats = ProductionAnalysisService.calculateStopStatistics(allData);

// ููุงุด ุขูุงุฑ ุชูููุงุช
Text('ฺฉู ุชูููุงุช: ${stats['totalStops']} ููุฑุฏ');
```

## โ๏ธ ูฺฉุงุช ููู

### 1. ฺฏุฑููโุจูุฏ ุดูุชโูุง

ุณุฑูุณ ุจุฑ ุงุณุงุณ ฺฉูุฏ ุฒุฑ ฺฏุฑููโุจูุฏ ูโฺฉูุฏ:
```
'ุชุงุฑุฎ_ุดูุช_ุชุฌูุฒ' -> '1403/01/15_1_ุฎุท 1'
```

### 2. ุงูุชุฎุงุจ ููุงูุฏู ุดูุช

ุงุฒ ูุฑ ุดูุชุ **ุงููู ุฑุฏู** ุงูุชุฎุงุจ ูโุดูุฏ. ูโุชูุงูุฏ ุชุบุฑ ุฏูุฏ:

```dart
// ุฏุฑ getUniqueProductionData()
var representative = shiftData.first;        // ุงููู ุฑุฏู
// ุง
var representative = shiftData.last;         // ุขุฎุฑู ุฑุฏู
// ุง
var representative = shiftData.reduce((a, b) => 
    a.producedProduct > b.producedProduct ? a : b);  // ุจุดุชุฑู ุชููุฏ
```

### 3. ููุชุฑ ุฏุงุฏูโูุง ุชููุฏ

ููุท ุฑุฏูโูุง ฺฉู ุฏุงุฏู ุชููุฏ ูุงูุน ุฏุงุฑูุฏ ุงูุชุฎุงุจ ูโุดููุฏ:

```dart
if (representative.inputTonnage > 0 || 
    representative.scale3 > 0 || 
    representative.scale4 > 0 || 
    representative.scale5 > 0 ||
    representative.serviceCount > 0) {
  uniqueData.add(representative);
}
```

### 4. ููุชุฑ ุฏุงุฏูโูุง ุชููู

ููุท ุฑุฏูโูุง ฺฉู ุชููู ูุงูุน ุฏุงุฑูุฏ ุงูุชุฎุงุจ ูโุดููุฏ:

```dart
item.stopType.isNotEmpty && 
item.stopReason.isNotEmpty &&
item.stopDurationMinutes > 0
```

## ๐ ูุฒุงุง ุฑูุด ุฌุฏุฏ

1. โ **ุฏูุช ุจุงูุง**: ุญุฐู ุฏูุจุงุฑูโุดูุงุฑ
2. โ **ฺฉุงุฑุง ุจูุชุฑ**: ูุญุงุณุจู ุจููู
3. โ **ุงูุนุทุงูโูพุฐุฑ**: ูุงุจูุช ููุชุฑ ู ุชุญูู
4. โ **ูุงุจู ุงุนุชูุงุฏ**: ุขูุงุฑ ูุงูุน ู ุตุญุญ
5. โ **ููุงุณโูพุฐุฑ**: ุณุงุฒฺฏุงุฑ ุจุง ุญุฌู ุจุงูุง ุฏุงุฏู

## ๐ ูุซุงู ฺฉุงูู

```dart
// ุฏุฑ ฺฉ ุตูุญู ุง ูุฌุช
class MyAnalysisWidget extends StatelessWidget {
  final List<ProductionData> data;

  @override
  Widget build(BuildContext context) {
    // ุขูุงุฑ ฺฉุงูู
    final stats = ProductionAnalysisService.calculateCombinedStatistics(data);
    final production = stats['production'];
    final stops = stats['stops'];
    
    return Column(
      children: [
        Text('ุชููุฏ: ${ProductionAnalysisService.formatNumber(production['totalProducedProduct'])} ุชู'),
        Text('ุชูููุงุช: ${stops['totalStops']} ููุฑุฏ'),
        Text('ุฑุงูุฏูุงู: ${production['averageEfficiency'].toStringAsFixed(1)}%'),
      ],
    );
  }
}
```

---

## ๐ ูพุดุชุจุงู

ุงฺฏุฑ ุณูุงู ุฏุงุดุชุฏ ุง ูุดฺฉู ูพุด ุขูุฏ:

1. ุงุจุชุฏุง ุตูุญู "ููุงุณู ุฑูุดโูุง" ุฑุง ุจุฑุฑุณ ฺฉูุฏ
2. ูุณุชูุฏุงุช ฺฉุฏ ุฏุฑ `ProductionAnalysisService` ุฑุง ูุทุงูุนู ฺฉูุฏ
3. ุฏุฑ ุตูุฑุช ูุงุฒ ุงุทูุงุน ุฏูุฏ

**ูููู ุจุงุดุฏ!** ๐ 