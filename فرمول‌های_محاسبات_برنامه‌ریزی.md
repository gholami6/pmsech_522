# فرمول‌های صحیح محاسبات برنامه‌ریزی

## منطق کلی
- **برنامه روزانه = برنامه ماهانه ÷ تعداد روزهای ماه**
- **برنامه هفتگی = برنامه روزانه × 7 روز**
- **برنامه ماهانه = برنامه ماهانه کامل**
- **برنامه شیفتی = برنامه روزانه ÷ 3**

## داده‌های برنامه سالانه 1404 (تن)
```
فروردین: 223,398 تن
اردیبهشت: 260,568 تن
خرداد: 260,568 تن
تیر: 232,248 تن
مرداد: 260,568 تن
شهریور: 189,768 تن
مهر: 250,564 تن
آبان: 250,564 تن
آذر: 250,564 تن
دی: 242,894 تن
بهمن: 242,894 تن
اسفند: 121,380 تن
```

## مثال محاسبه
### برای تیر ماه:
- برنامه ماهانه: 232,248 تن
- تعداد روزهای تیر: 31 روز
- برنامه روزانه: 232,248 ÷ 31 = 7,492 تن
- برنامه هفتگی: 7,492 × 7 = 52,444 تن
- برنامه شیفتی: 7,492 ÷ 3 = 2,497 تن

## استفاده در کد
```dart
// استفاده از سرویس مشترک
final plannedValue = PlanningCalculationService.getPlanByTimeRange(date, timeRange);

// یا استفاده مستقیم
final dailyPlan = PlanningCalculationService.getDailyPlan(date);
final weeklyPlan = PlanningCalculationService.getWeeklyPlan(date);
final monthlyPlan = PlanningCalculationService.getMonthlyPlanForDate(date);
final shiftPlan = PlanningCalculationService.getShiftPlan(date);
```

## نکات مهم
1. **هر شیفت فقط یک ردیف داده تولیدی دارد** (برای جلوگیری از تکرار)
2. **داده‌های تکراری در اکسل نادیده گرفته می‌شوند**
3. **فقط از داده‌های واقعی استفاده می‌شود** (بدون مقادیر پیش‌فرض)
4. **برنامه‌ریزی بر اساس برنامه سالانه 1404 انجام می‌شود**
5. **این منطق در تمام صفحات باید رعایت شود** 