# ุฑุงูููุง ุขูพููุฏ ูุงูโูุง ุนุงุฑ ุจู ูุงุณุช

## ๐ **ูุงูโูุง ููุฑุฏ ูุงุฒ ุจุฑุง ุขูพููุฏ**

### **1. ูุงู PHP ุงุตู**
- **ูุงู ูุงู**: `grade_api.php`
- **ูุญู ุขูพููุฏ**: ุฑูุช ูุงุณุช (`https://sechahoon.liara.run/`)
- **ุชูุถุญุงุช**: API ุงุตู ุจุฑุง ูุฏุฑุช ุนุงุฑูุง

### **2. ูุงู CSV ุฏุงุฏูโูุง**
- **ูุงู ูุงู**: `real_grades.csv`
- **ูุญู ุขูพููุฏ**: ุฑูุช ูุงุณุช (`https://sechahoon.liara.run/`)
- **ุชูุถุญุงุช**: ูุงู ุญุงู ุฏุงุฏูโูุง ุนุงุฑ

## ๐ง **ูุฑุงุญู ุขูพููุฏ**

### **ูุฑุญูู 1: ุขูพููุฏ ูุงู PHP**
1. ูุงู `grade_api.php` ุฑุง ุฏุฑ ุฑูุช ูุงุณุช ุขูพููุฏ ฺฉูุฏ
2. ูุทูุฆู ุดูุฏ ฺฉู ูุงู ูุงุจู ุงุฌุฑุง ุงุณุช (permissions: 644)
3. ุชุณุช ฺฉูุฏ: `https://sechahoon.liara.run/grade_api.php?action=stats&api_key=pmsech_grade_api_2024`

### **ูุฑุญูู 2: ุขูพููุฏ ูุงู CSV**
1. ูุงู `real_grades.csv` ุฑุง ุฏุฑ ุฑูุช ูุงุณุช ุขูพููุฏ ฺฉูุฏ
2. ูุทูุฆู ุดูุฏ ฺฉู ูุงู ูุงุจู ุฎูุงูุฏู ุงุณุช (permissions: 644)

### **ูุฑุญูู 3: ุชุณุช API**
```bash
# ุชุณุช ุฏุงูููุฏ
curl "https://sechahoon.liara.run/grade_api.php?action=download" \
  -H "Authorization: Bearer pmsech_grade_api_2024"

# ุชุณุช ุขูุงุฑ
curl "https://sechahoon.liara.run/grade_api.php?action=stats" \
  -H "Authorization: Bearer pmsech_grade_api_2024"

# ุชุณุช ุขูพููุฏ
curl -X POST "https://sechahoon.liara.run/grade_api.php?action=upload" \
  -H "Authorization: Bearer pmsech_grade_api_2024" \
  -H "Content-Type: application/json" \
  -d '{
    "date": "1404/04/01",
    "shift": 1,
    "grade_type": "ุฎูุฑุงฺฉ",
    "grade_value": 30.5,
    "user_id": "test_user"
  }'
```

## ๐ **ุงููุช**

### **ฺฉูุฏ API**
- **ฺฉูุฏ ูุนู**: `pmsech_grade_api_2024`
- **ุชูุตู**: ุฏุฑ ูุญุท ุชููุฏุ ฺฉูุฏ ุฑุง ุชุบุฑ ุฏูุฏ
- **ูุญู ุชุบุฑ**: ุฏุฑ ูุงู `grade_api.php` ุฎุท 15

### **ูุงู ูุงฺฏ**
- **ูุงู ูุงู**: `grade_api.log`
- **ูุญู**: ุฑูุช ูุงุณุช
- **ุชูุถุญุงุช**: ุซุจุช ุชูุงู ุนููุงุช API

## ๐ **ูุฑูุช ูุงู CSV**

### **ูุฏุฑ ูุงู**
```csv
id,date,shift,grade_type,grade_value,user_id,created_at,updated_at
```

### **ููููู ุฏุงุฏู**
```csv
grade_123456,1404/04/01,1,ุฎูุฑุงฺฉ,30.5,user_001,2024-01-15 10:30:00,2024-01-15 10:30:00
grade_123457,1404/04/01,1,ูุญุตูู,37.2,user_001,2024-01-15 10:30:00,2024-01-15 10:30:00
grade_123458,1404/04/01,1,ุจุงุทูู,12.1,user_001,2024-01-15 10:30:00,2024-01-15 10:30:00
```

## ๐ **API Endpoints**

### **GET /grade_api.php?action=download**
- **ุชูุถุญุงุช**: ุฏุงูููุฏ ุชูุงู ุฏุงุฏูโูุง ุนุงุฑ
- **ูพุงุณุฎ**: JSON ุจุง ููุฏูุง `success`, `data`, `count`, `last_updated`

### **GET /grade_api.php?action=stats**
- **ุชูุถุญุงุช**: ุฏุฑุงูุช ุขูุงุฑ ุนุงุฑูุง
- **ูพุงุณุฎ**: JSON ุจุง ููุฏูุง `total_records`, `by_type`, `by_shift`, `last_update`

### **POST /grade_api.php?action=upload**
- **ุชูุถุญุงุช**: ุขูพููุฏ ุนุงุฑ ุฌุฏุฏ
- **ุจุฏูู**: JSON ุจุง ููุฏูุง `date`, `shift`, `grade_type`, `grade_value`, `user_id`
- **ูพุงุณุฎ**: JSON ุจุง ููุฏูุง `success`, `message`, `id`

## โ๏ธ **ูฺฉุงุช ููู**

1. **ุงุญุฑุงุฒ ููุช**: ุชูุงู ุฏุฑุฎูุงุณุชโูุง ูุงุฒ ุจู ฺฉูุฏ API ุฏุงุฑูุฏ
2. **ูุฑูุช ุชุงุฑุฎ**: ุชุงุฑุฎโูุง ุจุงุฏ ุจู ูุฑูุช `YYYY/MM/DD` ุจุงุดูุฏ
3. **ุดูุช**: ููุท ููุงุฏุฑ 1ุ 2ุ 3 ูุฌุงุฒ ูุณุชูุฏ
4. **ููุน ุนุงุฑ**: ููุท `ุฎูุฑุงฺฉ`ุ `ูุญุตูู`ุ `ุจุงุทูู` ูุฌุงุฒ ูุณุชูุฏ
5. **ููุฏุงุฑ ุนุงุฑ**: ุจู 0 ุชุง 100 ุฏุฑุตุฏ
6. **ุชฺฉุฑุงุฑ**: ุนุงุฑ ุจุฑุง ุชุงุฑุฎุ ุดูุช ู ููุน ฺฉุณุงู ุชฺฉุฑุงุฑ ูุญุณูุจ ูโุดูุฏ

## ๐ **ุนุจโุงุจ**

### **ุฎุทุง 401**
- ฺฉูุฏ API ุงุดุชุจุงู ุงุณุช
- Header Authorization ูุฌูุฏ ูุฏุงุฑุฏ

### **ุฎุทุง 400**
- ุฏุงุฏูโูุง ูุฑูุฏ ูุงูุนุชุจุฑ ูุณุชูุฏ
- ููุฏูุง ุงูุฒุงู ูุฌูุฏ ูุฏุงุฑูุฏ

### **ุฎุทุง 409**
- ุฑฺฉูุฑุฏ ุชฺฉุฑุงุฑ ุงุณุช

### **ุฎุทุง 500**
- ุฎุทุง ุณุฑูุฑ
- ุจุฑุฑุณ ูุงู ูุงฺฏ

## ๐ **ูพุดุชุจุงู**

ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุดฺฉู:
1. ูุงู `grade_api.log` ุฑุง ุจุฑุฑุณ ฺฉูุฏ
2. ุชุณุช API ุฑุง ุงูุฌุงู ุฏูุฏ
3. ูุฌูุฒูุง ูุงู ุฑุง ุจุฑุฑุณ ฺฉูุฏ
4. ุจุง ุชู ุชูุณุนู ุชูุงุณ ุจฺฏุฑุฏ 